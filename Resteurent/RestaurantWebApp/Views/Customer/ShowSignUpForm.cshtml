@using LiolamResteurent
@model Account

@{
    ViewData["Title"] = "ShowSignUpForm";
    Layout = "~/Views/Shared/MasterPage.cshtml";
}

@section Styles
{
    <link href="~/css/customer/signUp.css" rel="stylesheet" />
}
@section Js
{
    <script src="~/javaScript/customer/SignUp.js"></script>
}

@if (ViewBag.Error == true)
{
    <div class="signup-message error">
        <h2>Sign Up Failed</h2>
        <p>your user name or Id is maching other user details (recommended user name firstName_LastName)</p>
    </div>
}
else if (Model == null)
{
    <div class="signup-message error">
        <h2>Sign Up Failed</h2>
        <p>someting went wrong. try again later</p>
    </div>
}
else
{
    @if (Model.Customer == null)
    {
        <form class="formBounts" method="post" action="https://localhost:7287/Customer/SignUp" enctype="multipart/form-data">
            <label>User Id</label>
            <input class="textinputId" type="text" id="userId" name="Id" placeholder="Enter your Id" required/><br>
            <lable class="error" id="idError"></lable>
            <label>User Name</label>
            <input class="textinputUser" type="text" id="userName" name="CustomerUserName" placeholder="Enter your User Name" required /><br>
            <lable class="error" id="userNameError"></lable>
            <label>Password</label>
            <input class="password" type="password" id="password" name="CustomerPassword" placeholder="Enter your Password" required /><br>
            <lable class="error" id="passwordError"></lable>
            <label>Email</label>
            <input class="email" type="email" id="email" name="CustomerMail" placeholder="Enter your Email" required /><br>
            <lable class="error" id="emailError"></lable>
            <label>Phone</label>
            <input class="textinputPhone" type="text" id="phone" name="CustomerPhone" placeholder="Enter your Phone Number" required /><br>
            <lable class="error" id="phoneError"></lable>

            <label class="cityText">City</label>
            <select  id="cities" class="cities" name="city.Id">
                @foreach (City city in Model.registerView.Cities)
                {
                    <option value="@city.Id">@city.CityName</option>
                }
            </select>
            <lable class="error" id="cityError"></lable>

            <label class="streetText"><br />Street</label>
            <select id="streets" class="streets" name="street.Id">
                @foreach (Street street in Model.registerView.Streets)
                {
                    <option value="@street.Id">@street.StreetName</option>
                }
            </select>

            <lable class="error" id="streetError"></lable>

            <label><br />House Number</label>
            <input class="textinputHouseNumber" type="number" min="0" id="houseNumber" name="CustomerHouse" placeholder="Enter your House Number" required/><br>
            <lable class="error" id="houseNumberError"></lable>

            <label>Image</label>
            <input class="image" type="file" id="image" name="Image" placeholder="Upload your Image" accept="image/*" required/><br>
            <lable class="error" id="ImageError"></lable>

            <button type="submit" class="submit" onclick="checkForm()">Submit</button>
            <button type="reset" class="clear">Clear</button>
        </form>
    }
    else
    {
        <form class="formBounts" method="post" id="form" action="https://localhost:7287/Customer/EditAccount" enctype="multipart/form-data">
            <label>User Id</label>
            <input class="textinputId" type="text" id="userId" name="Id" value="@Model.Customer.Id" readonly /><br>
            <lable class="error" id="idError"></lable>
            <label>User Name</label>
            <input class="textinputUser" type="text" id="userName" name="CustomerUserName" placeholder="Enter your User Name" value="@Model.Customer.CustomerUserName" required /><br>
            <lable class="error" id="userNameError"></lable>
            <label>Change Password</label>
            <input class="password" type="password" id="password" name="CustomerPassword" placeholder="Enter your Password"/><br>
            <lable class="error" id="passwordError"></lable>
            <label>Email</label>
            <input class="email" type="email" id="email" name="CustomerMail" placeholder="Enter your Email" value="@Model.Customer.CustomerMail" required /><br>
            <lable class="error" id="emailError"></lable>
            <label>Phone</label>
            <input class="textinputPhone" type="text" id="phone" name="CustomerPhone" placeholder="Enter your Phone Number" value="@Model.Customer.CustomerPhone" required /><br>
            <lable class="error" id="phoneError"></lable>

            <label class="cityText">City</label>
            <select id="cities" class="cities" name="city.Id">
                @foreach (City city in Model.registerView.Cities)
                {
                    @if (Model.Customer.city.Id == city.Id)
                    {
                        <option value="@city.Id" selected="selected">@city.CityName</option>
                    }
                    else
                    {
                        <option value="@city.Id">@city.CityName</option>
                    }
                }
            </select>
            <lable class="error" id="cityError"></lable>

            <label class="streetText"><br />Street</label>
            <select id="streets" class="streets" name="street.Id">
                @foreach (Street street in Model.registerView.Streets)
                {
                    @if (Model.Customer.street.Id == street.Id)
                    {
                        <option selected="selected" value="@street.Id">@street.StreetName</option>
                    }
                    else
                    {
                        <option value="@street.Id">@street.StreetName</option>
                    }
                }
            </select>

            <lable class="error" id="streetError"></lable>

            <label><br />House Number</label>
            <input class="textinputHouseNumber" type="number" min="0" id="houseNumber" name="CustomerHouse" placeholder="Enter your House Number" value="@Model.Customer.CustomerHouse" required/><br>

            <label>Image</label>
            <input class="image" type="file" id="image" name="Image" placeholder="Upload your Image" accept="image/*" required/><br>
            <lable class="error" id="ImageError"></lable>

            <button type="submit" class="submit" onclick="checkForm()">Submit</button>
            <button type="reset" class="clear">Clear</button>
        </form>
    }

}
